<attachment contenteditable="false" data-atts="%5B%5D" data-aid=".atts-da7878af-0869-4ae9-a283-e137c38e8810"></attachment><p>&lt;! 二次扫码功能代码&gt;</p><p><br></p><p><span style="color: rgb(128, 128, 128);">&lt;</span><span style="color: rgb(217, 187, 115);">html</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p>    <span style="color: rgb(128, 128, 128);">&lt;</span><span style="color: rgb(217, 187, 115);">head</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p>        <span style="color: rgb(128, 128, 128);">&lt;</span><span style="color: rgb(217, 187, 115);">link</span> <span style="color: rgb(167, 201, 222);">rel</span><span style="color: rgb(128, 128, 128);">=</span><span style="color: rgb(89, 141, 166);">"stylesheet"</span> <span style="color: rgb(167, 201, 222);">href</span><span style="color: rgb(128, 128, 128);">=</span><span style="color: rgb(89, 141, 166);">"index.css"</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p>        <span style="color: rgb(128, 128, 128);">&lt;</span><span style="color: rgb(217, 187, 115);">script</span> <span style="color: rgb(167, 201, 222);">src</span><span style="color: rgb(128, 128, 128);">=</span><span style="color: rgb(89, 141, 166);">"https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span><span style="color: rgb(128, 128, 128);">&gt;&lt;/</span><span style="color: rgb(217, 187, 115);">script</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p>    <span style="color: rgb(128, 128, 128);">&lt;/</span><span style="color: rgb(217, 187, 115);">head</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p>    <span style="color: rgb(128, 128, 128);">&lt;</span><span style="color: rgb(217, 187, 115);">body</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p>        <span style="color: rgb(128, 128, 128);">&lt;</span><span style="color: rgb(217, 187, 115);">div</span> <span style="color: rgb(167, 201, 222);">id</span><span style="color: rgb(128, 128, 128);">=</span><span style="color: rgb(89, 141, 166);">"watch-example"</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p>  <span style="color: rgb(128, 128, 128);">&lt;</span><span style="color: rgb(217, 187, 115);">p</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p>    phoneNumber:</p><p>    <span style="color: rgb(128, 128, 128);">&lt;</span><span style="color: rgb(217, 187, 115);">input</span> <span style="color: rgb(167, 201, 222);">v-model</span><span style="color: rgb(128, 128, 128);">=</span><span style="color: rgb(89, 141, 166);">"question"</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p>  <span style="color: rgb(128, 128, 128);">&lt;/</span><span style="color: rgb(217, 187, 115);">p</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p>   <span style="color: rgb(128, 128, 128);">&lt;</span><span style="color: rgb(217, 187, 115);">p</span><span style="color: rgb(128, 128, 128);">&gt;</span>{{ answer }}<span style="color: rgb(128, 128, 128);">&lt;/</span><span style="color: rgb(217, 187, 115);">p</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p>  <span style="color: rgb(128, 128, 128);">&lt;</span><span style="color: rgb(217, 187, 115);">p</span><span style="color: rgb(128, 128, 128);">&gt;</span>name:</p><p>    <span style="color: rgb(128, 128, 128);">&lt;</span><span style="color: rgb(217, 187, 115);">input</span> <span style="color: rgb(167, 201, 222);">v-model</span><span style="color: rgb(128, 128, 128);">=</span><span style="color: rgb(89, 141, 166);">"name"</span><span style="color: rgb(128, 128, 128);">&gt;&lt;/</span><span style="color: rgb(217, 187, 115);">p</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p><span style="color: rgb(128, 128, 128);">&lt;/</span><span style="color: rgb(217, 187, 115);">div</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p>       </p><p>        </p><p>        <span style="color: rgb(128, 128, 128);">&lt;</span><span style="color: rgb(217, 187, 115);">script</span> <span style="color: rgb(167, 201, 222);">src</span><span style="color: rgb(128, 128, 128);">=</span><span style="color: rgb(89, 141, 166);">"index.js"</span><span style="color: rgb(128, 128, 128);">&gt;&lt;/</span><span style="color: rgb(217, 187, 115);">script</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p>        <span style="color: rgb(128, 128, 128);">&lt;</span><span style="color: rgb(217, 187, 115);">script</span> <span style="color: rgb(167, 201, 222);">src</span><span style="color: rgb(128, 128, 128);">=</span><span style="color: rgb(89, 141, 166);">"https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js"</span><span style="color: rgb(128, 128, 128);">&gt;&lt;/</span><span style="color: rgb(217, 187, 115);">script</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p><span style="color: rgb(128, 128, 128);">&lt;</span><span style="color: rgb(217, 187, 115);">script</span> <span style="color: rgb(167, 201, 222);">src</span><span style="color: rgb(128, 128, 128);">=</span><span style="color: rgb(89, 141, 166);">"https://cdn.jsdelivr.net/npm/lodash@4.13.1/lodash.min.js"</span><span style="color: rgb(128, 128, 128);">&gt;&lt;/</span><span style="color: rgb(217, 187, 115);">script</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p><span style="color: rgb(128, 128, 128);">&lt;</span><span style="color: rgb(217, 187, 115);">script</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p><span style="color: rgb(234, 155, 128);">var</span> watchExampleVM <span style="color: rgb(234, 155, 128);">=</span> <span style="color: rgb(234, 155, 128);">new</span> Vue({</p><p>  <span style="color: rgb(167, 201, 222);">el</span><span style="color: rgb(220, 220, 220);">:</span> <span style="color: rgb(125, 164, 183);">'#watch-example'</span><span style="color: rgb(220, 220, 220);">,</span></p><p>  <span style="color: rgb(167, 201, 222);">data</span><span style="color: rgb(220, 220, 220);">:</span> {</p><p>    <span style="color: rgb(167, 201, 222);">question</span><span style="color: rgb(220, 220, 220);">:</span> <span style="color: rgb(125, 164, 183);">''</span><span style="color: rgb(220, 220, 220);">,</span></p><p>    <span style="color: rgb(167, 201, 222);">answer</span><span style="color: rgb(220, 220, 220);">:</span> <span style="color: rgb(125, 164, 183);">'please input phoneNumber'</span><span style="color: rgb(220, 220, 220);">,</span></p><p>    <span style="color: rgb(167, 201, 222);">name</span><span style="color: rgb(220, 220, 220);">:</span><span style="color: rgb(125, 164, 183);">''</span></p><p>  }<span style="color: rgb(220, 220, 220);">,</span></p><p>  <span style="color: rgb(167, 201, 222);">watch</span><span style="color: rgb(220, 220, 220);">:</span> {</p><p>    <span style="color: rgb(93, 110, 122);">// 如果 `question` 发生改变，这个函数就会运行</span></p><p>    <span style="color: rgb(167, 201, 222);">question</span><span style="color: rgb(220, 220, 220);">:</span> <span style="color: rgb(234, 155, 128);">function</span> (newQuestion<span style="color: rgb(220, 220, 220);">,</span> oldQuestion) {</p><p>      <span style="color: rgb(234, 155, 128);">this</span><span style="color: rgb(220, 220, 220);">.</span>answer <span style="color: rgb(234, 155, 128);">=</span> <span style="color: rgb(125, 164, 183);">'Waiting for you to stop typing...'</span></p><p>      <span style="color: rgb(234, 155, 128);">this</span><span style="color: rgb(220, 220, 220);">.</span>debouncedGetAnswer()</p><p>    }</p><p>  }<span style="color: rgb(220, 220, 220);">,</span></p><p>  <span style="color: rgb(167, 201, 222);">created</span><span style="color: rgb(220, 220, 220);">:</span> <span style="color: rgb(234, 155, 128);">function</span> () {</p><p>    <span style="color: rgb(93, 110, 122);">// `_.debounce` 是一个通过 Lodash 限制操作频率的函数。</span></p><p>    <span style="color: rgb(93, 110, 122);">// 在这个例子中，我们希望限制访问 yesno.wtf/api 的频率</span></p><p>    <span style="color: rgb(93, 110, 122);">// AJAX 请求直到用户输入完毕才会发出。想要了解更多关于</span></p><p>    <span style="color: rgb(93, 110, 122);">// `_.debounce` 函数 (及其近亲 `_.throttle`) 的知识，</span></p><p>    <span style="color: rgb(93, 110, 122);">// 请参考：https://lodash.com/docs#debounce</span></p><p>    <span style="color: rgb(234, 155, 128);">this</span><span style="color: rgb(220, 220, 220);">.</span>debouncedGetAnswer <span style="color: rgb(234, 155, 128);">=</span> _<span style="color: rgb(220, 220, 220);">.</span>debounce(<span style="color: rgb(234, 155, 128);">this</span><span style="color: rgb(220, 220, 220);">.</span>getAnswer<span style="color: rgb(220, 220, 220);">,</span> <span style="color: rgb(89, 141, 166);">500</span>)</p><p>  }<span style="color: rgb(220, 220, 220);">,</span></p><p>  <span style="color: rgb(167, 201, 222);">methods</span><span style="color: rgb(220, 220, 220);">:</span> {</p><p>    <span style="color: rgb(167, 201, 222);">getAnswer</span><span style="color: rgb(220, 220, 220);">:</span> <span style="color: rgb(234, 155, 128);">function</span> () {</p><p>      <span style="color: rgb(234, 155, 128);">if</span> (<span style="color: rgb(234, 155, 128);">this</span><span style="color: rgb(220, 220, 220);">.</span>question<span style="color: rgb(220, 220, 220);">.</span>length <span style="color: rgb(234, 155, 128);">!=</span> <span style="color: rgb(89, 141, 166);">11</span>) {</p><p>        <span style="color: rgb(234, 155, 128);">this</span><span style="color: rgb(220, 220, 220);">.</span>answer <span style="color: rgb(234, 155, 128);">=</span> <span style="color: rgb(125, 164, 183);">'please input correct number'</span></p><p>        <span style="color: rgb(234, 155, 128);">return</span></p><p>      }</p><p>      <span style="color: rgb(234, 155, 128);">this</span><span style="color: rgb(220, 220, 220);">.</span>answer <span style="color: rgb(234, 155, 128);">=</span> <span style="color: rgb(125, 164, 183);">'Thinking...'</span></p><p>      <span style="color: rgb(234, 155, 128);">var</span> vm <span style="color: rgb(234, 155, 128);">=</span> <span style="color: rgb(234, 155, 128);">this</span></p><p>      <span style="color: rgb(234, 155, 128);">this</span><span style="color: rgb(220, 220, 220);">.</span>name <span style="color: rgb(234, 155, 128);">=</span> <span style="color: rgb(125, 164, 183);">'YUHAN'</span></p><p>    <span style="color: rgb(93, 110, 122);">//   axios.get('/api')</span></p><p>    <span style="color: rgb(93, 110, 122);">//     .then(function (response) {</span></p><p>    <span style="color: rgb(93, 110, 122);">//       vm.answer = _.capitalize(response.data.answer)</span></p><p>    <span style="color: rgb(93, 110, 122);">//     })</span></p><p>    <span style="color: rgb(93, 110, 122);">//     .catch(function (error) {</span></p><p>    <span style="color: rgb(93, 110, 122);">//       vm.answer = 'Error! Could not reach the API. ' + error</span></p><p>    <span style="color: rgb(93, 110, 122);">//     })</span></p><p>    }</p><p>  }</p><p>})</p><p><span style="color: rgb(128, 128, 128);">&lt;/</span><span style="color: rgb(217, 187, 115);">script</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p>    <span style="color: rgb(128, 128, 128);">&lt;/</span><span style="color: rgb(217, 187, 115);">body</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p><span style="color: rgb(128, 128, 128);">&lt;/</span><span style="color: rgb(217, 187, 115);">html</span><span style="color: rgb(128, 128, 128);">&gt;</span></p><p><br></p><p><br></p><p><span style="color: rgb(51, 51, 51); background-color: rgb(204, 224, 245);">介绍一下</span><code style="color: rgb(199, 37, 78); background-color: rgb(204, 224, 245);">debounce</code><span style="color: rgb(51, 51, 51); background-color: rgb(204, 224, 245);">，从最简单的一个场景入手，当用户不断点击页面，短时间内频繁的触法点击事件，只有在用户触法事件后的</span><code style="color: rgb(199, 37, 78); background-color: rgb(204, 224, 245);">n</code><span style="color: rgb(51, 51, 51); background-color: rgb(204, 224, 245);">s时间内，没有再触法事件，真正的监听函数才会执行，如果在这段时间内再次触法了事件，就需要重新计算这个</span><code style="color: rgb(199, 37, 78); background-color: rgb(204, 224, 245);">n</code><span style="color: rgb(51, 51, 51); background-color: rgb(204, 224, 245);">s。</span></p><p><br></p>